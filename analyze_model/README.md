# データ同化Aの課題をスイスイ解くためのTips

## まずはルンゲクッタのアルゴリズムを理解しよう

微分方程式をプログラムを用いて解きたいとする。  
もちろん、微分みたいな無限小なんてプログラム上では表現できない。

じゃあどうするか？

近似的にめっちゃ小さい数を使って、「微分っぽい操作」を行う。
例えば1e-15みたいなめっちゃ小さい数とか。　　

もうこれがわかればほぼ大丈夫。  
例えば簡単にdx/dt=f(x)のような微分方程式を解くとすれば、以下の通りに式変形ができる。

~~~  
dx/dt = 3x
( x(t+1) - x(t) ) / dt = f(x)
x(t+1) = x(t) + f(x) dt
~~~

パッと思いつく形での微分方程式の数値解法はこんな感じである。  
ちなみにこの解法(アルゴリズム)をオイラー法という。  

今回課題として出てきているルンゲクッタ法というのは、この式において微分のところをもっと精度良く表せないか？というモチベーションが改良が行われた方法である。  

まあ所詮はオイラー法の延長のようなもので、数学的に厳密に評価しようとするととんでもないことになるが、まあ今回はそういうことはせず頭空っぽにして実装すればいいのでそこまで大変ではない。  

ちなみに dx/dt = f(x, t) をルンゲクッタ法のアルゴリズムで解くと以下の通りになる。

~~~
q1 = f(x, t)
q2 = f(x + (dt * q1)/2.0, t + dt/2.0)
q3 = f(x + (dt * q2)/2.0, t + dt/2.0)
q4 = f(x + (dt * q3), t + dt)
x = x + dt * (q1 + 2.0 * q2 + 2.0 * q3 + q4) / 6.0
~~~

先ほどのオイラー法では f(x)dt であったところが、ルンゲクッタではちょっと複雑になっているのがわかるだろう。

多少複雑になっているが、基本的に「現在時点の値から微分の速度ベクトルの分だけ少しズラす」ということがわかっていればもう大丈夫である！


## Attracterについて理解しよう

今回搭載しているモデルはLorenz96で、このモデルについては詳細を省く。  
実際のモデルについての実装は[Wikipediaの解説](https://en.wikipedia.org/wiki/Lorenz_96_model)を参照してもらいたい。  
ここでは、これらの




## カルマンフィルタって？

## アンサンブルカルマンフィルタ。強そう。

## 3次元変分法、こいつは強そうだが実はショボいんだ...

## ラスボス、4次元変分法
